{
  "model": "gpt-4.1",
  "api_endpoint": "responses",
  "purpose": "general_assistant",
  "description": "LLM chatbox for general assistance and MCP tool integration",
  "config": {
    "model": "gpt-4.1",
    "max_tokens": 4000,
    "temperature": 0.7,
    "tools": [],
    "store": true,
    "include": [
      "reasoning.encrypted_content"
    ]
  },
  "system_prompt": "You are an AI assistant integrated into a condensed matter physics laboratory management system. You have access to ArXiv Daily report tools and 2D Material Flake Classification tools.\n\n**AUTOMATIC WORKFLOW EXECUTION:**\n\nWhen users request operations that require multiple steps, execute the COMPLETE workflow automatically. Do NOT stop between steps to ask for confirmation or provide interim updates.\n\n**ArXiv Daily Tools:**\n- `generate_daily_report`: Generate new reports\n- `read_daily_report`: Read existing reports (summary only)\n- `search_papers_by_author`: Search ALL papers by author (full report search)\n- `list_available_reports`: List available reports\n\n**2D Flake Analysis - AUTOMATIC SEQUENCE:**\n\nWhen users request flake analysis, automatically execute these steps:\n1. `list_models` - Get available classification models from server\n2. `upload_image` - Upload the image with base64 data and filename\n3. `predict_flake_quality` - Classify using model_name and uploaded image_filename\n\n**FastMCP Tools Available:**\n- `list_models`: Get list of available 2D material classification models\n- `upload_image`: Upload an image for 2D material classification (requires base64 image_data and filename)\n- `predict_flake_quality`: Predict 2D material flake quality using specified model (requires model_name and image_filename)\n- `get_prediction_history`: Get history of previous predictions (optional limit parameter)\n\n**CRITICAL UPLOAD REQUIREMENTS:**\n- ALWAYS call `upload_image` before `predict_flake_quality`\n- The upload_image tool requires base64-encoded image data\n- When user references a local file like \"gr09.jpg\", read the file and convert to base64\n- The upload returns a server filename - use this EXACT filename for prediction\n- Available images may be in uploads/flake_images/ directory\n\n**CRITICAL: Execute the full 3-step sequence automatically. Never skip the upload step.**\n\n**Examples of Automatic Execution:**\n- User: \"analyze gr09.jpg with hBN_monolayer model\" → Execute: list_models, upload_image, predict_flake_quality\n- User: \"check available models\" → Call `list_models`\n- User: \"show prediction history\" → Call `get_prediction_history`\n\n**Key Principle: Complete the full workflow automatically. Present detailed results including quality predictions and confidence scores.**\n\nProvide clear, accurate, and helpful responses. When discussing scientific topics, be precise and cite relevant concepts.",
  "conversation_settings": {
    "max_exchanges": 100,
    "context_window": 50,
    "enable_reasoning_display": true,
    "show_token_usage": true,
    "auto_collapse_threshold": 800,
    "max_tool_call_iterations": 20
  },
  "ui_settings": {
    "title": "AI Assistant",
    "subtitle": "AI Assistant for Lab Management",
    "placeholder_text": "Ask me anything about research, papers, or lab management...",
    "suggested_prompts": [
      "Generate today's ArXiv report and show me the high-priority papers",
      "Analyze gr09.jpg with hBN_monolayer model", 
      "Check available models and run prediction history",
      "List available classification models"
    ]
  },
  "mcp_integration": {
    "enabled": true,
    "server_startup": true,
    "arxiv_daily_tools": [
      {
        "name": "read_daily_report",
        "description": "Read and analyze existing ArXiv Daily reports",
        "status": "active"
      },
      {
        "name": "generate_daily_report", 
        "description": "Generate new ArXiv Daily reports",
        "status": "active"
      },
      {
        "name": "list_available_reports",
        "description": "List available ArXiv Daily reports with metadata", 
        "status": "active"
      },
      {
        "name": "search_papers_by_author",
        "description": "Search ALL papers in ArXiv Daily reports by author name - searches the complete report (all 144 papers), not just summaries",
        "status": "active"
      }
    ],
    "flake_2d_tools": [
      {
        "name": "list_models",
        "description": "Get list of available 2D material classification models",
        "status": "active"
      },
      {
        "name": "upload_image",
        "description": "Upload an image for 2D material classification (requires base64 image_data and filename)",
        "status": "active"
      },
      {
        "name": "predict_flake_quality",
        "description": "Predict 2D material flake quality using specified model (requires model_name and image_filename)",
        "status": "active"
      },
      {
        "name": "get_prediction_history",
        "description": "Get history of previous predictions (optional limit parameter)",
        "status": "active"
      }
    ],
    "planned_tools": [
      {
        "name": "literature_search",
        "description": "Search scientific literature and databases",
        "status": "planned"
      },
      {
        "name": "data_analysis",
        "description": "Analyze experimental data and generate plots",
        "status": "planned"
      },
      {
        "name": "calculation_tools",
        "description": "Perform scientific calculations and simulations",
        "status": "planned"
      },
      {
        "name": "lab_equipment_interface",
        "description": "Interface with laboratory equipment and instruments",
        "status": "planned"
      }
    ]
  }
}